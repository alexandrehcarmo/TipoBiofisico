<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora de Estilo e Tipo F√≠sico</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
    }
    .quiz-img {
      max-width: 100%;
      height: 250px; /* Altura fixa para uniformidade */
      object-fit: cover; /* Garante que a imagem preencha o espa√ßo sem distorcer */
      border: 3px solid #ccc;
      border-radius: 12px;
      cursor: pointer;
      margin: 10px 0; /* Mais espa√ßamento */
      transition: all 0.3s ease-in-out; /* Transi√ß√£o suave */
    }
    .quiz-img:hover {
      border-color: #007bff;
      transform: translateY(-3px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .pergunta {
      display: none;
      animation: fadeIn 0.8s ease-out; /* Anima√ß√£o de entrada para as perguntas */
    }
    .pergunta.ativa {
      display: block;
    }
    .boneca-img {
      max-width: 120px;
      margin: 10px;
      border: 3px solid transparent; /* Bordas um pouco mais grossas */
      cursor: pointer;
      border-radius: 50%; /* Imagens redondas para as bonecas, se forem PNG com fundo transparente fica legal */
      transition: all 0.3s ease-in-out;
    }
    .boneca-img.selected {
      border-color: #28a745;
      box-shadow: 0 0 15px rgba(40, 167, 69, 0.5); /* Sombra verde */
      transform: scale(1.05); /* Pequeno zoom */
    }

    /* Estilo e anima√ß√£o para o resultado do Estilo */
    #estilo-resultado, #tipo-fisico-resultado { /* Aplica estilos base a ambos os resultados */
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      padding: 30px;
      border-radius: 15px;
      background-color: #ffffff;
      box-shadow: 0 10px 25px rgba(0,0,0,0.08);
      text-align: center;
      margin-top: 40px;
      display: none; /* Inicia oculto */
    }
    #estilo-resultado.show, #tipo-fisico-resultado.show {
      opacity: 1;
      transform: translateY(0);
      display: block; /* Mostra o elemento quando a classe 'show' √© adicionada */
    }
    #estilo-resultado h3, #tipo-fisico-resultado h3 {
      font-weight: 700;
      color: #6f42c1; /* Cor de destaque */
      margin-bottom: 20px;
    }
    #estilo-resultado p.display-4, #tipo-fisico-resultado p.display-4 {
      font-size: 3.5rem;
      color: #007bff; /* Cor principal */
      font-weight: 800;
    }
    #estilo-resultado p.card-text, #tipo-fisico-resultado p.card-text {
        font-size: 1.1rem;
        line-height: 1.6;
        color: #555;
    }

    /* Estilos espec√≠ficos para o resultado do Tipo F√≠sico */
    #tipo-fisico-resultado .boneca-tipo {
        max-width: 200px;
        height: auto;
        margin: 20px auto;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    /* Anima√ß√£o para a transi√ß√£o das perguntas */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

<div class="container mt-5">
  <h2 class="mb-4 text-center">Descubra Seu Estilo!</h2>
  <div id="quiz-section">
    <div class="pergunta ativa" id="pergunta1">
      <p class="lead text-center"><strong>Pergunta 1:</strong> Qual look voc√™ prefere para um evento importante?</p>
      <div class="row justify-content-center">
        <div class="col-md-5 text-center">
          <img src="https://images.pexels.com/photos/2983464/pexels-photo-2983464.jpeg?auto=compress&cs=tinysrgb&h=400" class="quiz-img" onclick="escolherEstilo('Cl√°ssico', 1)">
          <p class="text-muted">Apar√™ncia atemporal e elegante</p>
        </div>
        <div class="col-md-5 text-center">
          <img src="https://images.pexels.com/photos/7679724/pexels-photo-7679724.jpeg?auto=compress&cs=tinysrgb&h=400" class="quiz-img" onclick="escolherEstilo('Moderno', 1)">
          <p class="text-muted">Design limpo e contempor√¢neo</p>
        </div>
      </div>
    </div>
    <div class="pergunta" id="pergunta2">
      <p class="lead text-center"><strong>Pergunta 2:</strong> Qual acess√≥rio reflete melhor sua personalidade?</p>
      <div class="row justify-content-center">
        <div class="col-md-5 text-center">
          <img src="https://images.pexels.com/photos/1468379/pexels-photo-1468379.jpeg?auto=compress&cs=tinysrgb&h=400" class="quiz-img" onclick="escolherEstilo('Cl√°ssico', 2)">
          <p class="text-muted">Sofistica√ß√£o tradicional</p>
        </div>
        <div class="col-md-5 text-center">
          <img src="https://images.pexels.com/photos/1204468/pexels-photo-1204468.jpeg?auto=compress&cs=tinysrgb&h=400" class="quiz-img" onclick="escolherEstilo('Criativo', 2)">
          <p class="text-muted">Originalidade e ousadia</p>
        </div>
      </div>
    </div>
    <div class="pergunta" id="pergunta3">
      <p class="lead text-center"><strong>Pergunta 3:</strong> Qual tipo de estampa mais te atrai?</p>
      <div class="row justify-content-center">
        <div class="col-md-5 text-center">
          <img src="https://images.pexels.com/photos/4050345/pexels-photo-4050345.jpeg?auto=compress&cs=tinysrgb&h=400" class="quiz-img" onclick="escolherEstilo('Cl√°ssico', 3)">
          <p class="text-muted">Padronagens discretas e elegantes</p>
        </div>
        <div class="col-md-5 text-center">
          <img src="https://images.pexels.com/photos/428340/pexels-photo-428340.jpeg?auto=compress&cs=tinysrgb&h=400" class="quiz-img" onclick="escolherEstilo('Criativo', 3)">
          <p class="text-muted">Estampas vibrantes e art√≠sticas</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Nova Div para exibir o resultado animado do estilo -->
  <div id="estilo-resultado">
    <!-- O resultado ser√° inserido aqui via JavaScript -->
  </div>

  <hr class="my-5">

  <h2 class="mb-4 text-center">Descubra Seu Tipo F√≠sico!</h2>
  <div id="tipo-fisico-section" class="p-4 bg-white rounded shadow-sm">
    <p class="lead text-center mb-4">Insira suas medidas (em cm) para uma an√°lise preliminar:</p>
    <div class="row justify-content-center g-3">
      <div class="col-md-4">
        <label for="ombros" class="form-label">Ombro a ombro:</label>
        <input type="number" class="form-control" id="ombros" placeholder="Ex: 40">
      </div>
      <div class="col-md-4">
        <label for="cintura" class="form-label">Cintura:</label>
        <input type="number" class="form-control" id="cintura" placeholder="Ex: 60">
      </div>
      <div class="col-md-4">
        <label for="quadril" class="form-label">Quadril:</label>
        <input type="number" class="form-control" id="quadril" placeholder="Ex: 90">
      </div>
    </div>

    <button class="btn btn-success mt-4 d-block mx-auto" onclick="mostrarResultadoTipoFisico()">Ver Tipo F√≠sico</button>

    <div class="mt-5 text-center">
      <p class="lead">Ou selecione qual boneca parece mais com voc√™:</p>
      <div class="d-flex justify-content-center flex-wrap">
        <!-- ATEN√á√ÉO: Voc√™ precisar√° criar estas imagens e coloc√°-las na pasta 'imagens/' -->
        <img src="imagens/boneca-selecao-1.svg" class="boneca-img" onclick="selecionarBoneca(1)" alt="Boneca tipo f√≠sico 1">
        <img src="imagens/boneca-selecao-2.svg" class="boneca-img" onclick="selecionarBoneca(2)" alt="Boneca tipo f√≠sico 2">
        <img src="imagens/boneca-selecao-3.svg" class="boneca-img" onclick="selecionarBoneca(3)" alt="Boneca tipo f√≠sico 3">
        <img src="imagens/boneca-selecao-4.svg" class="boneca-img" onclick="selecionarBoneca(4)" alt="Boneca tipo f√≠sico 4">
        <img src="imagens/boneca-selecao-5.svg" class="boneca-img" onclick="selecionarBoneca(5)" alt="Boneca tipo f√≠sico 5">
      </div>
      <small class="text-muted mt-2 d-block">A escolha visual ajuda a refinar a an√°lise do seu biotipo, especialmente se as medidas n√£o forem exatas.</small>
    </div>
  </div>

  <!-- Nova Div para exibir o resultado animado do tipo f√≠sico -->
  <div id="tipo-fisico-resultado">
    <!-- O resultado ser√° inserido aqui via JavaScript -->
  </div>

  <div class="mt-5 mb-5 text-center">
    <button class="btn btn-secondary btn-lg" onclick="exportarResultados()">Exportar Resultados Completos</button>
  </div>
</div>

<script>
  let pontuacaoEstilos = {
    "Cl√°ssico": 0,
    "Moderno": 0,
    "Criativo": 0
  };
  let respostasEstilo = [];
  let bonecaSelecionada = null; // Para a sele√ß√£o visual da boneca
  let tipoFisicoCalculado = null; // Para armazenar o tipo f√≠sico calculado pelas medidas

  // Mapa de estilos para detalhes no resultado
  const detalhesEstiloMap = {
      "Cl√°ssico": "Voc√™ tem uma prefer√™ncia por looks atemporais, elegantes e com toques tradicionais. Valoriza a sofistica√ß√£o e a discri√ß√£o, optando por pe√ßas de alta qualidade e cortes impec√°veis. Seu guarda-roupa √© a base para qualquer ocasi√£o.",
      "Moderno": "Seu estilo se inclina para o contempor√¢neo, com linhas limpas, minimalismo e tend√™ncias atuais. Gosta de inovar e de pe√ßas com design diferenciado, valorizando a funcionalidade e o impacto visual. Voc√™ est√° sempre √† frente.",
      "Criativo": "Voc√™ √© uma pessoa que adora ousar, misturar texturas, cores e padr√µes. Seu estilo √© √∫nico, expressivo e cheio de personalidade, utilizando a moda como uma forma de arte. N√£o tem medo de experimentar e criar tend√™ncias."
  };

  // Mapa de tipos f√≠sicos para imagens e descri√ß√µes (voc√™ precisar√° criar estas imagens!)
  const detalhesTipoFisicoMap = {
      "Ampulheta": {
          img: "imagens/tipo-fisico-ampulheta.png",
          desc: "Seu corpo possui ombros e quadris de larguras semelhantes, com uma cintura significativamente mais fina e marcada. √â considerado um formato harmonioso e equilibrado."
      },
      "Ret√¢ngulo": {
          img: "imagens/tipo-fisico-retangulo.png",
          desc: "As medidas de ombros, cintura e quadril s√£o bastante semelhantes, criando uma silhueta mais reta e proporcional. Seu desafio √© criar a ilus√£o de curvas."
      },
      "Tri√¢ngulo (P√™ra)": {
          img: "imagens/tipo-fisico-triangulo.png",
          desc: "Caracteriza-se por quadris visivelmente mais largos que os ombros, com cintura geralmente marcada. O foco √© equilibrar a parte superior e inferior do corpo."
      },
      "Tri√¢ngulo Invertido": {
          img: "imagens/tipo-fisico-triangulo-invertido.png",
          desc: "Seus ombros s√£o mais largos que os quadris, criando uma silhueta em 'V'. O objetivo √© suavizar os ombros e adicionar volume aos quadris."
      },
      "Oval (Ma√ß√£)": {
          img: "imagens/tipo-fisico-oval.png",
          desc: "A regi√£o da cintura √© mais larga que os ombros e quadris, com a silhueta mais arredondada no centro. O ideal √© alongar o tronco e valorizar pernas e bra√ßos."
      },
      "Indefinido": {
          img: "imagens/tipo-fisico-indefinido.png", // Imagem para quando n√£o houver correspond√™ncia clara
          desc: "Com base nas medidas fornecidas, n√£o foi poss√≠vel classificar seu tipo f√≠sico de forma precisa. Por favor, verifique as medidas ou utilize a sele√ß√£o visual da boneca."
      }
  };

  function escolherEstilo(estilo, perguntaNumero) {
    pontuacaoEstilos[estilo] += 1;
    respostasEstilo.push(estilo);

    const perguntaAtual = document.getElementById(`pergunta${perguntaNumero}`);
    perguntaAtual.classList.remove("ativa"); // Esconde a pergunta atual

    // Verifica se h√° uma pr√≥xima pergunta
    const proximaPergunta = document.getElementById(`pergunta${perguntaNumero + 1}`);
    if (proximaPergunta) {
      proximaPergunta.classList.add("ativa"); // Mostra a pr√≥xima pergunta
    } else {
      // Se n√£o h√° pr√≥xima pergunta, o quiz terminou
      mostrarResultadoEstilo();
    }
  }

  function mostrarResultadoEstilo() {
    let estiloFinal = "Indefinido"; // Caso n√£o haja escolhas claras
    let maxPontos = -1;

    // Encontra o estilo com a maior pontua√ß√£o
    for (const estilo in pontuacaoEstilos) {
        if (pontuacaoEstilos[estilo] > maxPontos) {
            maxPontos = pontuacaoEstilos[estilo];
            estiloFinal = estilo;
        } else if (pontuacaoEstilos[estilo] === maxPontos && maxPontos > 0) {
            // L√≥gica para empates: pode-se priorizar um estilo, criar um "misto", etc.
            // Para este prot√≥tipo, o primeiro que atingir o maxPontos mant√©m a prefer√™ncia.
            // Para a reuni√£o com Leo, pergunte como ele quer tratar empates.
        }
    }

    const quizSection = document.getElementById("quiz-section");
    const estiloResultadoDiv = document.getElementById("estilo-resultado");

    // Esconde a se√ß√£o do quiz
    quizSection.style.display = 'none';

    // Conte√∫do do resultado com base no estilo final
    const detalhes = detalhesEstiloMap[estiloFinal] || "N√£o foi poss√≠vel definir um estilo predominante claro com as respostas dadas. Experimente novamente ou explore outras op√ß√µes!";

    estiloResultadoDiv.innerHTML = `
        <div class="card p-4 shadow-sm" style="background-color: #fcfcfc; border-left: 8px solid #007bff; ">
            <h3 class="card-title text-center mb-3 text-primary">‚ú® Seu Estilo Predominante √©:</h3>
            <p class="card-text text-center display-4" style="color: #6f42c1;"><strong>${estiloFinal}</strong></p>
            <p class="card-text text-center mt-4">${detalhes}</p>
            <p class="card-text text-muted text-center mt-3 small">Para uma an√°lise ainda mais detalhada e personalizada, aprofunde-se em nossa plataforma!</p>
        </div>
    `;

    // Adiciona a classe 'show' para ativar a anima√ß√£o CSS
    // Um pequeno timeout garante que o elemento esteja no DOM antes da anima√ß√£o
    setTimeout(() => {
        estiloResultadoDiv.classList.add('show');
    }, 100);
  }

  function mostrarResultadoTipoFisico() {
    const ombros = parseFloat(document.getElementById('ombros').value);
    const cintura = parseFloat(document.getElementById('cintura').value);
    const quadril = parseFloat(document.getElementById('quadril').value);

    // Valida√ß√£o de entrada
    if (isNaN(ombros) || isNaN(cintura) || isNaN(quadril) || ombros <= 0 || cintura <= 0 || quadril <= 0) {
      alert("Por favor, preencha todas as medidas com n√∫meros v√°lidos e positivos.");
      return;
    }

    let tipo = "Indefinido";

    // Regras de classifica√ß√£o de tipo f√≠sico (propor√ß√µes aproximadas)
    const tolerancia = 0.05; // 5% de toler√¢ncia para "semelhante"

    // Calcular propor√ß√µes
    const ombro_quadril_ratio = ombros / quadril;
    const cintura_ombro_ratio = cintura / ombros;
    const cintura_quadril_ratio = cintura / quadril;

    // L√≥gica para Ampulheta
    if (Math.abs(ombros - quadril) / ombros < tolerancia && cintura_ombro_ratio < 0.75) {
        tipo = "Ampulheta";
    }
    // L√≥gica para Ret√¢ngulo
    else if (Math.abs(ombros - cintura) / ombros < tolerancia && Math.abs(cintura - quadril) / cintura < tolerancia) {
        tipo = "Ret√¢ngulo";
    }
    // L√≥gica para Tri√¢ngulo (P√™ra) - Quadril > Ombros
    else if (quadril > ombros * (1 + tolerancia)) {
        tipo = "Tri√¢ngulo (P√™ra)";
    }
    // L√≥gica para Tri√¢ngulo Invertido - Ombros > Quadril
    else if (ombros > quadril * (1 + tolerancia)) {
        tipo = "Tri√¢ngulo Invertido";
    }
    // L√≥gica para Oval (Ma√ß√£) - Cintura > Ombros e Quadril
    else if (cintura > ombros * (1 + tolerancia) || cintura > quadril * (1 + tolerancia)) {
        tipo = "Oval (Ma√ß√£)";
    }

    tipoFisicoCalculado = tipo; // Armazena o tipo calculado

    const tipoFisicoSection = document.getElementById("tipo-fisico-section");
    const tipoFisicoResultadoDiv = document.getElementById("tipo-fisico-resultado");

    // Esconde a se√ß√£o de inputs
    tipoFisicoSection.style.display = 'none';

    // Obt√©m detalhes da boneca e descri√ß√£o
    const detalhes = detalhesTipoFisicoMap[tipo] || detalhesTipoFisicoMap["Indefinido"];

    tipoFisicoResultadoDiv.innerHTML = `
        <div class="card p-4 shadow-sm" style="background-color: #fcfcfc; border-left: 8px solid #28a745;">
            <h3 class="card-title text-center mb-3 text-success">üßç‚Äç‚ôÄÔ∏è Seu Tipo F√≠sico Estimado √©:</h3>
            <p class="card-text text-center display-4" style="color: #6f42c1;"><strong>${tipo}</strong></p>
            <img src="${detalhes.img}" alt="Silhueta do tipo ${tipo}" class="boneca-tipo d-block mx-auto">
            <p class="card-text text-center mt-4">${detalhes.desc}</p>
            <p class="card-text text-muted text-center mt-3 small">Lembre-se que esta √© uma estimativa baseada nas medidas. Para uma an√°lise mais aprofundada, consulte um especialista!</p>
        </div>
    `;

    // Adiciona a classe 'show' para ativar a anima√ß√£o CSS
    setTimeout(() => {
        tipoFisicoResultadoDiv.classList.add('show');
    }, 100);
  }

  function selecionarBoneca(numero) {
    document.querySelectorAll('.boneca-img').forEach(el => el.classList.remove('selected'));
    document.querySelectorAll('.boneca-img')[numero - 1].classList.add('selected');
    bonecaSelecionada = numero; // Armazena a boneca selecionada visualmente
    // Em um futuro, a sele√ß√£o da boneca poderia disparar uma l√≥gica de resultado similar
    // √† da calculadora de medidas, mostrando uma descri√ß√£o e talvez uma imagem maior.
    alert(`Boneca ${numero} selecionada! Esta escolha pode complementar a an√°lise das medidas.`);
  }

  function exportarResultados() {
    const data = {
      estiloQuiz: {
        respostas: respostasEstilo,
        pontuacaoFinal: pontuacaoEstilos,
        estiloPredominante: document.querySelector('#estilo-resultado p.display-4 strong')?.textContent || "Ainda n√£o definido"
      },
      tipoFisico: {
        medidas: {
          ombros: document.getElementById('ombros').value,
          cintura: document.getElementById('cintura').value,
          quadril: document.getElementById('quadril').value
        },
        tipoFisicoCalculado: tipoFisicoCalculado, // Inclui o tipo calculado
        bonecaVisualSelecionada: bonecaSelecionada
      },
      dataExportacao: new Date().toISOString()
    };

    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'resultados_analise_moda.json';
    a.click();
    URL.revokeObjectURL(url); // Libera o objeto URL ap√≥s o download
  }
</script>

</body>
</html>